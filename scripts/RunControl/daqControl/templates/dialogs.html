<!-- START DIALOG -->
<v-dialog v-model="startRunDialog" max-width="350" transition="dialog-top-transition">
  <v-card>
    <v-card-title class="text-h5"> Start Run </v-card-title>

    <v-card-text class="px-4">
      <h3>Run type</h3>
      <v-select v-model="runType" class="my-1" hide-details outlined no-data-text="Select a type" :items="runTypes">
      </v-select>
      <h3> Comment </h3>
      <v-textarea class="mt-1" hide-details outlined v-model="comment" placeholder="Enter some comment">
      </v-textarea>
    </v-card-text>

    <v-card-actions>
      <v-btn color="red darken-1" dark @click="startRunDialog = false">
        Cancel
      </v-btn>
      <v-spacer></v-spacer>

      <v-btn color="green darken-1" dark @click="startRun" :disabled="comment === ''">
        Start
      </v-btn>
    </v-card-actions>
  </v-card>
</v-dialog>

<!-- END RUN DIALOG -->
<v-dialog v-model="endRunDialog" max-width="350" transition="dialog-top-transition">
  <v-card>
    <v-card-title class="text-h5"> End Run </v-card-title>
    <v-card-text class="px-4">
      <h3>Run type</h3>
      <v-select v-model="runType" no-data-text="Select a type" class="my-1" hide-details outlined :items="runTypes">
      </v-select>
      <h3> Comment </h3>
      <v-textarea v-model="comment" class="mt-1" hide-details outlined name="" value="Some Comment">
      </v-textarea>
    </v-card-text>
    <v-card-actions>
      <v-btn color="red darken-1" dark @click="endRunDialog = false">
        Cancel
      </v-btn>
      <v-spacer></v-spacer>

      <v-btn color="green darken-1" dark @click="endRun" :disabled="comment === ''">
        Stop
      </v-btn>
    </v-card-actions>
  </v-card>
</v-dialog>

<!-- LOST CONNECTION DIALOG -->
<v-dialog persistent v-model="lostConnection" transition="dialog-top-transition" max-width="400">
  <v-card>
    <v-card-title class="text-h5" style="display: flex; justify-content: center;"> Lost connection to the server
    </v-card-title>
    <v-card-text class="px-5 text-h6" style="display: flex; justify-content: center;">
      Please refresh the page.
    </v-card-text>
    <v-card-actions style="display: flex; justify-content: center; ">
      <v-btn color="red darken-1" dark @click="refreshPage()">
        Refresh
      </v-btn>
    </v-card-actions>
  </v-card>
</v-dialog>

<!-- SHUTDOWN WARNING -->
<v-dialog v-model="shutdownWarning" max-width="410" transition="dialog-top-transition">
  <v-card>
    <v-card-title class="text-h5"> Do you really want to shutdown ? </v-card-title>
    <v-card-actions>
      <v-btn color="green darken-1" dark @click="shutdownWarning = false">
        Cancel
      </v-btn>
      <v-spacer></v-spacer>
      <v-btn color="red darken-1" dark @click="shutdownRun">
        Shutdown
      </v-btn>
    </v-card-actions>
  </v-card>
</v-dialog>

<!-- TEMPLATE SNACKBAR -->
<v-snackbar v-model="snackbar.open" top :timeout="-1" :color="snackbar.color">
[[ snackbar.text ]]
  <template v-slot:action="{ attrs }">
    <v-btn
      icon
      v-bind="attrs"
      @click="snackbar.open = false"
    >
      <v-icon>
        mdi-close-circle
      </v-icon>
    </v-btn>
  </template>
</v-snackbar>
