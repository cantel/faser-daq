{
  "version": 6,
  "group": "faser",
  "components": [
    {
      "name": "triggergenerator",
      "host": "localhost",
      "port": 5540,
      "type": "TriggerGenerator",
      "loglevel": {"core": "INFO", "module": "DEBUG"},
      "settings": {
        "rateInHz": 15,
        "frontendApps": [
          {
            "host": "localhost",
            "port": 17001
          },
          {
            "host": "localhost",
            "port": 17002
          }
        ]
      }
    },
    {
      "name": "frontendemulator01",
      "host": "localhost",
      "port": 5541,
      "type": "FrontEndEmulator",
      "loglevel": {"core": "INFO", "module": "DEBUG"},
      "settings": {
        "meanSize": 25,
        "rmsSize": 0,
        "fragmentID": 1000001,
        "probMissingTrigger": 0.00,
        "probMissingFragment": 0.00,
        "probCorruptedFragment": 0.00,
	      "monitoringInterval": 1.5,
        "triggerPort": 17001,
        "daqHost": "localhost",
        "daqPort": 18001
      }
    },
    {
      "name": "frontendemulator02",
      "host": "localhost",
      "port": 5542,
      "type": "FrontEndEmulator",
      "loglevel": {"core": "INFO", "module": "DEBUG"},
      "settings": {
        "meanSize": 250,
        "rmsSize": 20,
        "fragmentID": 1000002,
        "probMissingTrigger": 0,
        "probMissingFragment": 0,
        "probCorruptedFragment": 0,
	      "monitoringInterval": 0,
        "triggerPort": 17002,
        "daqHost": "localhost",
        "daqPort": 18002
      }
    },
    {
      "name": "frontendreceiver01",
      "host": "localhost",
      "port": 5555,
      "type": "FrontEndReceiver",
      "loglevel": {"core": "INFO", "module": "DEBUG"},
      "settings": {
	      "stats_uri": "tcp://*:7055",
        "dataPort": 18001
      },
      "connections": {
        "senders": [
          {
            "type": "pair",
            "chid": 1,
            "transport": "tcp",
            "host": "*",
            "port": 8101
          }
        ]
      }
    },
    {
      "name": "frontendreceiver02",
      "host": "localhost",
      "port": 5556,
      "type": "FrontEndReceiver",
      "loglevel": {"core": "INFO", "module": "DEBUG"},
      "settings": {
        "dataPort": 18002
      },
      "connections": {
        "senders": [
          {
            "type": "pair",
            "chid": 1,
            "transport": "tcp",
            "host": "*",
            "port": 8102
          }
        ]
      }
    },
    {
      "name": "eventbuilder01",
      "host": "localhost",
      "port": 5557,
      "type": "EventBuilderFaser",
      "loglevel": {"core": "INFO", "module": "DEBUG"},
      "settings": {
	      "stats_uri": "tcp://*:7057",
        "maxPending": 10
      },
      "connections": {
        "receivers": [
          {
            "type": "pair",
            "chid": 1,
            "transport": "tcp",
            "host": "localhost",
            "port": 8101
          },
          {
            "type": "pair",
            "chid": 2,
            "transport": "tcp",
            "host": "localhost",
            "port": 8102
          }
        ],
        "senders": [
          {
            "type": "pair",
            "chid": 3,
            "transport": "tcp",
            "host": "*",
            "port": 8103
          }
        ]
      }
    },
    {
      "name": "filedatawriter01",
      "host": "localhost",
      "port": 5558,
      "type": "FileDataWriter",
      "loglevel": {"core": "INFO", "module": "DEBUG"},
      "settings": {
        "filename_pattern": "/tmp/test-%D.%n.%c.bin"
      },
      "connections": {
        "receivers": [
          {
            "type": "pair",
            "chid": 1,
            "transport": "tcp",
            "host": "localhost",
            "port": 8103
          }
        ]
      }
    },
    {
      "name": "digitizer",
      "host": "localhost",
      "port": 5560,
      "type": "Digitizer",
      "loglevel": {"core": "INFO", "module": "DEBUG"},
      "settings": {
      "myVar": 42,
      "ip":                    "192.168.122.2", 
      "vme_base_address":      "0x04320000",
      "buffer_length":         "0x0A",
      "buffer_n_post_samples": "0x20",
      "internal_sawtooth":     false,
      "global_trigger": { "lvds": 0, "external": 0, "software": 1, "polarity": "under", "coincidence": false, "nchan": 2, "timewindow": 20},
      "channel_config": [{"group" : 0, "trig_enable": 1, "trig_logic": "OnlyA", "trig_width":32,
                          "chanA" : {"channel": 0, "dynamic_range": 2.0, "enable_read": 1, "dc_offset": 0.0, "trig_threshold": 10000},
                          "chanB" : {"channel": 1, "dynamic_range": 2.0, "enable_read": 0, "dc_offset": 0.0, "trig_threshold": 500}
                         },
                         {"group" : 1, "trig_enable": 1, "trig_logic": "OnlyA", "trig_width":32,
                          "chanA" : {"channel": 2, "dynamic_range": 2.0, "enable_read": 1, "dc_offset": 0.0, "trig_threshold": 10000},
                          "chanB" : {"channel": 3, "dynamic_range": 2.0, "enable_read": 0, "dc_offset": 0.0, "trig_threshold": 500}
                         },
                         {"group" : 2, "trig_enable": 0, "trig_logic": "OR", "trig_width":32,
                          "chanA" : {"channel": 4, "dynamic_range": 2.0, "enable_read": 0, "dc_offset": 0.0, "trig_threshold": 500},
                          "chanB" : {"channel": 5, "dynamic_range": 2.0, "enable_read": 0, "dc_offset": 0.0, "trig_threshold": 500}
                         },
                         {"group" : 3, "trig_enable": 0, "trig_logic": "OR", "trig_width":32,
                          "chanA" : {"channel": 6, "dynamic_range": 2.0, "enable_read": 0, "dc_offset": 0.0, "trig_threshold": 500},
                          "chanB" : {"channel": 7, "dynamic_range": 2.0, "enable_read": 0, "dc_offset": 0.0, "trig_threshold": 500}
                         },
                         {"group" : 4, "trig_enable": 0, "trig_logic": "OR", "trig_width":32,
                          "chanA" : {"channel": 8, "dynamic_range": 0.5, "enable_read": 0, "dc_offset": 0, "trig_threshold": 500},
                          "chanB" : {"channel": 9, "dynamic_range": 0.5, "enable_read": 0, "dc_offset": 0, "trig_threshold": 500}
                         },
                         {"group" : 5, "trig_enable": 0, "trig_logic": "OR", "trig_width":32,
                          "chanA" : {"channel": 10, "dynamic_range": 0.5, "enable_read": 0, "dc_offset": 0, "trig_threshold": 500},
                          "chanB" : {"channel": 11, "dynamic_range": 0.5, "enable_read": 0, "dc_offset": 0, "trig_threshold": 500}
                         },
                         {"group" : 6, "trig_enable": 0, "trig_logic": "OR", "trig_width":32,
                          "chanA" : {"channel": 12, "dynamic_range": 0.5, "enable_read": 0, "dc_offset": 0, "trig_threshold": 500},
                          "chanB" : {"channel": 13, "dynamic_range": 0.5, "enable_read": 0, "dc_offset": 0, "trig_threshold": 500}
                         },
                         {"group" : 7, "trig_enable": 0, "trig_logic": "OR", "trig_width":32,
                          "chanA" : {"channel": 14, "dynamic_range": 0.5, "enable_read": 0, "dc_offset": 0, "trig_threshold": 500},
                          "chanB" : {"channel": 15, "dynamic_range": 0.5, "enable_read": 0, "dc_offset": 0, "trig_threshold": 500}
                         }],
      "frontpanel_config" : {"lemo" : {"trig_in" : "ttl" , "trig_out" : "ttl"}}
      }
    }
  ]
}
